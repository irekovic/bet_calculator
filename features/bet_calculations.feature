Feature: Bet Calculation
	Calculator should correctly calculate various bet types

	Scenario Outline: calculating a bet
		Given a "<Bet Type>" bet with stake "<Stake>" on "<Prices>"
		When I calculate a bet
		Then number_of_bets should be "<Number of Bets>"
		And total_stake should be "<Total Stake>"
		And total_return should be "<Total Return>"
		And unit_stake should be "<Stake>"
		And total_profit should be "<Total Profit>"

		Examples: 
			|Bet Type             |Stake|Prices             |Number of Bets|Total Stake|Total Return  |Total Profit  |
			|Single               |10.00|1.2                |             1|      10.00|         12.00|          2.00|
			|Accumulator          |10.00|1.2,1.3            |             1|      10.00|         15.60|          5.60|
			|Accumulator          |10.00|1.2,1.3,2          |             1|      10.00|         31.20|         21.20|
			|Accumulator          |10.00|1.2,1.3,2,3        |             1|      10.00|         93.60|         83.60|
			|Trixie               |10.00|1.2,1.3,2          |             4|      40.00|         96.80|         56.80|
			|Yankee               |10.00|1.2,1.3,2,3        |            11|     110.00|        522.20|        412.20|
			|Canadian             |10.00|1.2,1.3,2,3,4      |            26|     260.00|      2_911.00|      2_651.00|
			|Heinz                |10.00|1.2,1.3,2,3,4,5    |            57|     570.00|     18_041.00|     17_471.00|
			|SuperHeinz           |10.00|1.2,1.3,2,3,4,5,6  |           120|   1_200.00|    127_277.00|    126_077.00|
			|Goliath              |10.00|1.2,1.3,2,3,4,5,6,7|           247|   2_470.00|  1_019_791.00|  1_017_321.00|
			|Block                |10.00|2,3,4,5,6,7,8,9,10 |           502|   5_020.00|199_583_450.00|199_578_430.00|
			|Patent               |10.00|1.2,1.3,1.4        |             7|      70.00|        111.44|         41.44|
			|Yap                  |10.00|2,3,4,5            |            15|     150.00|      3_590.00|      3_440.00|
			|Lucky15              |10.00|2,3,4,5            |            15|     150.00|      3_590.00|      3_440.00|
			|Lucky31              |10.00|2,3,4,5,6          |            31|     310.00|     25_190.00|     24_880.00|
			|Lucky63              |10.00|2,3,4,5,6,7        |            63|     630.00|    201_590.00|    200_960.00|
			|SuperHeinzWithSingles|10.00|2,3,4,5,6,7,8      |           127|   1_270.00|  1_814_390.00|  1_813_120.00|
			|GoliathWithSingles   |10.00|2,3,4,5,6,7,8,9    |           255|   2_550.00| 18_143_990.00| 18_141_440.00|
			|BlockWithSingles     |10.00|2,3,4,5,6,7,8,9,10 |           511|   5_110.00|199_583_990.00|199_578_880.00|
			|SingleStakesAbout    |10.00|2,3                |             2|      20.00|         80.00|         60.00|
			|DoubleStakesAbout    |10.00|2,3                |             2|      20.00|        110.00|         90.00|
			|RoundRobin           |10.00|2,3,4              |            10|     100.00|        800.00|        700.00|
			|Flag                 |10.00|2,3,4,5            |            23|     230.00|      4_170.00|      3_940.00|
			|SuperFlag            |10.00|2,3,4,5,6          |            46|     460.00|     26_390.00|     25_930.00|
			|HeinzFlag            |10.00|2,3,4,5,6,7        |            87|     870.00|    203_720.00|    202_850.00|
			|SuperHeinzFlag       |10.00|2,3,4,5,6,7,8      |           162|   1_620.00|  1_817_820.00|  1_816_200.00|
			|GoliathFlag          |10.00|2,3,4,5,6,7,8,9    |           303|   3_030.00| 18_149_150.00| 18_146_120.00|
			|Rounder              |10.00|2,3,4              |             3|      30.00|        320.00|        290.00|
			|Roundabout           |10.00|2,3,4              |             3|      30.00|        550.00|        520.00|
			|Alphabet             |10.00|2,3,4,5,6,7        |            26|     260.00|     62_550.00|     62_290.00|
			|UnionJackTreble      |10.00|2,3,4,5,6,7,8,9,10 |             8|      80.00|     17_880.00|     17_800.00|
			|UnionJackTrixie      |10.00|2,3,4,5,6,7,8,9,10 |            32|     320.00|     26_620.00|     26_300.00|
			|UnionJackPatent      |10.00|2,3,4,5,6,7,8,9,10 |            56|     560.00|     28_060.00|     27_500.00|
			|UnionJackRoundRobin  |10.00|2,3,4,5,6,7,8,9,10 |            80|     800.00|     31_900.00|     31_100.00|


	Scenario Outline: calculating an EachWay bet
		Given a "<bet_type>" bet with stake "<stake>" on "<price>" with place reduction "0.20"
		When I calculate each-way bet
		Then number_of_bets should be "<number_of_bets>"
		And total_stake should be "<total_stake>"
		And total_return should be "<total_return>"
		And unit_stake should be "<stake>"
		And total_profit should be "<total_profit>"

		Examples: 
			|bet_type             |stake|price              |E/W|number_of_bets|total_stake|total_return  |total_profit  |
			|Single               |10.00|2                  |0.2|             2|      20.00|         32.00|         12.00|
			|Accumulator          |10.00|1.2,1.3            |0.2|             2|      20.00|         26.62|          6.62|
			|Accumulator          |10.00|1.2,1.3,2          |0.2|             2|      20.00|         44.43|         24.43|
			|Accumulator          |10.00|1.2,1.3,2,3        |0.2|             2|      20.00|        112.12|         92.12|
			|Trixie               |10.00|1.2,1.3,2          |0.2|             8|      80.00|        146.25|         66.25|
			|Yankee               |10.00|1.2,1.3,2,3        |0.2|            22|     220.00|        687.09|        467.09|
			|Canadian             |10.00|1.2,1.3,2,3,4      |0.2|            52|     520.00|      3_414.91|      2_894.91|
			|Heinz                |10.00|1.2,1.3,2,3,4,5    |0.2|           114|   1_140.00|     19_565.34|     18_425.34|
			|SuperHeinz           |10.00|1.2,1.3,2,3,4,5,6  |0.2|           240|   2_400.00|    132_012.01|    129_612.01|
			|Goliath              |10.00|1.2,1.3,2,3,4,5,6,7|0.2|           494|   4_940.00|  1_035_165.22|  1_030_225.22|
			|Block                |10.00|2,3,4,5,6,7,8,9,10 |0.2|         1_004|  10_040.00|199_754_893.30|199_744_853.30|
			|Patent               |10.00|1.2,1.3,1.4        |0.2|            14|     140.00|        188.85|         48.85|
			|Yap                  |10.00|2,3,4,5            |0.2|            30|     300.00|      3_964.38|      3_664.38|
			|Lucky15              |10.00|2,3,4,5            |0.2|            30|     300.00|      3_964.38|      3_664.38|
			|Lucky31              |10.00|2,3,4,5,6          |0.2|            62|     620.00|     26_333.15|     25_713.15|
			|Lucky63              |10.00|2,3,4,5,6,7        |0.2|           126|   1_260.00|    205_270.09|    204_010.09|
			|SuperHeinzWithSingles|10.00|2,3,4,5,6,7,8      |0.2|           254|   2_540.00|  1_826_926.29|  1_824_386.29|
			|GoliathWithSingles   |10.00|2,3,4,5,6,7,8,9    |0.2|           510|   5_100.00| 18_189_146.66| 18_184_046.66|
			|BlockWithSingles     |10.00|2,3,4,5,6,7,8,9,10 |0.2|         1_022|  10_220.00|199_755_613.30|199_745_393.30|
			|SingleStakesAbout    |10.00|2,3                |0.2|             4|      40.00|        112.00|         72.00|
#			|DoubleStakesAbout    |10.00|2,3                |0.2|             2|      20.00|        110.00|         90.00|
#			|RoundRobin           |10.00|2,3,4              |0.2|            10|     100.00|        800.00|        700.00|
#			|Flag                 |10.00|2,3,4,5            |0.2|            23|     230.00|      4_170.00|      3_940.00|
#			|SuperFlag            |10.00|2,3,4,5,6          |0.2|            46|     460.00|     26_390.00|     25_930.00|
#			|HeinzFlag            |10.00|2,3,4,5,6,7        |0.2|            87|     870.00|    203_720.00|    202_850.00|
#			|SuperHeinzFlag       |10.00|2,3,4,5,6,7,8      |0.2|           162|   1_620.00|  1_817_820.00|  1_816_200.00|
#			|GoliathFlag          |10.00|2,3,4,5,6,7,8,9    |0.2|           303|   3_030.00| 18_149_150.00| 18_146_120.00|
#			|Rounder              |10.00|2,3,4              |0.2|             3|      30.00|        320.00|        290.00|
#			|Roundabout           |10.00|2,3,4              |0.2|             3|      30.00|        550.00|        520.00|
#			|Alphabet             |10.00|2,3,4,5,6,7        |0.2|            26|     260.00|     62_550.00|     62_290.00|
#			|UnionJackTreble      |10.00|2,3,4,5,6,7,8,9,10 |0.2|             8|      80.00|     17_880.00|     17_800.00|
#			|UnionJackTrixie      |10.00|2,3,4,5,6,7,8,9,10 |0.2|            32|     320.00|     26_620.00|     26_300.00|
#			|UnionJackPatent      |10.00|2,3,4,5,6,7,8,9,10 |0.2|            56|     560.00|     28_060.00|     27_500.00|
#			|UnionJackRoundRobin  |10.00|2,3,4,5,6,7,8,9,10 |0.2|            80|     800.00|     31_900.00|     31_100.00|
#
